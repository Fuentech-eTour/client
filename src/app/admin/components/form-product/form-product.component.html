<div class="container">
    <form [formGroup]="form" (ngSubmit)="saveProduct($event)">
        <mat-card>
            <mat-card-header class="header-1">
                <mat-card-title>Crear Producto</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="row">
                    <div class="col-xs cont-1">
                        <div class="row">
                            <div class="col-xs">
                                <mat-form-field>
                                    <input placeholder="Titulo" formControlName="title" [(ngModel)]="title" matInput type="text">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs">
                                <mat-form-field>
                                    <input placeholder="Precio" formControlName="price" [(ngModel)]="price" matInput type="number">
                                </mat-form-field>
                                <div *ngIf="priceField.errors && priceField.dirty">
                                    <p *ngIf="priceField.hasError('price_invalid')">El valor no puede ser mayor a $10.000</p>
                                    <p *ngIf="priceField.hasError('required')">Este campo es requerido</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs">
                                <mat-form-field>
                                    <textarea placeholder="DescripciÃ³n" formControlName="description" [(ngModel)]="description" matInput type="text"></textarea>
                                </mat-form-field>
                            </div>
                        </div> 
                        <div class="row">
                            <div class="col-xs">
                                <img *ngIf="(image$ | async) as image" [src]="image" alt="">
                                <input type="file" (change)="uploadFile($event)">
                            </div>
                        </div> 
                        <mat-card-actions class="row">
                            <button class="btn-save" [disabled]="form.invalid" mat-raised-button type="submit" [ngClass]="{btnActive: !form.invalid}">Guardar</button>
                        </mat-card-actions>
                    </div>
                    <div class="col-xs cont-2">
                        <mat-card>
                            <mat-card-header>
                                <mat-card-title style="font-size: 12px; width: 108px;" class="title-style">
                                    {{ title | uppercase | slice:0:20 }}
                                </mat-card-title>
                                <mat-card-subtitle>
                                    {{ price }}
                                </mat-card-subtitle>
                            </mat-card-header>
                            <div class="crop-image">
                                <img onerror="this.src = './../../../../assets/images/not-image.png'" [src]="">
                                <img src="./../../../../assets/images/not-image.png">
                            </div>
                            <mat-card-content style="font-size: 12px; width: 100%; text-align: center;">
                                <p>{{ description }}</p>
                            </mat-card-content>
                            <mat-card-actions class="cont-actions">
                                <button mat-raised-button class="btn-add">agregar</button>
                            </mat-card-actions>
                        </mat-card>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </form>   
</div>

